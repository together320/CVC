@model CVC.ViewModels.MachineSummaryPageModel
@{Layout = null;}
<link href="~/Content/css/icons.css" rel="stylesheet" />
<div class="row">
    <div class="col-md-9">
        <div class="card table-card " style="padding:0px;margin:0px;margin-right:10px">
            @{ var machineSpeed = Model.ViewFieldList.FirstOrDefault(vf => vf.IsMachineSpeed == true);}

            <table class="table Machine-Settings" style="table-layout:fixed">
                <tr>
                    @if (machineSpeed != null)
                    {
                    <td class="col-sm-2 card-block-big br Machine-Settings-box" rowspan="4" style="vertical-align:middle">


                        <h2>
                            <label ViewStateMode="false" style="font-size:50px" id="lbl-@machineSpeed.ViewFieldId">

                                @machineSpeed.Value
                            </label>
                        </h2>
                        <span>
                            @machineSpeed.ParameterName
                        </span>

                    </td>
                    }
                    <td>
                        <table class="table Machine-Settings" style="table-layout:fixed">
                            @{var index = 0; var GroupList = Model.ViewFieldList.Where(vf=>vf.IsMachineSpeed!=true).GroupBy(x => index++ / 4).ToList();}
                            @foreach (var item in GroupList)
                            {
                                <tr style="height:100%">
                                    @foreach (var subitem in item)
                                    {                                       
                                            <td class="col-sm-2" valign="middle" style="height:inherit">
                                                <div class="card-box widget-flat bg-@subitem.BackgroundColor text-white" style="background-color:aqua;height:inherit" id="div-@subitem.ViewFieldId">
                                                    <i class="fi-tag"></i>


                                                    <h3>
                                                        <label class="@(subitem.IsGoodBottles==true? "lblGoodBottle":subitem.IsRejectBottles==true?"lblRejectBottle":"")" ViewStateMode="false" id="lbl-@subitem.ViewFieldId">
                                                            @if (subitem.DateTypeId == 2 || subitem.DateTypeId == 3 || subitem.DateTypeId == 4 || subitem.DateTypeId == 7 || subitem.DateTypeId==11)
                                                            {
                                                                if (subitem.Value == "1")
                                                                {<text>ON</text> }
                                                            else
                                                            { <text>OFF</text>}
                                                    }
                                                    else
                                                    {@subitem.Value

                                                }
                                                        </label>
                                                    </h3>
                                                    <span id="spn-@subitem.ViewFieldId">
                                                        @subitem.ParameterName
                                                    </span>
                                                </div>

                                            </td>
                                        
                                    }
                                </tr>
                            }
                        </table>

                    </td>
                </tr>
            </table>




            @*<table class="table Machine-Settings" style="table-layout:fixed">
            @{var index = 0; var GroupList = Model.ViewFieldList.GroupBy(x => index++ / 4).ToList();}
            @foreach (var item in GroupList)
            {
                <tr style="height:100%">
                    @foreach (var subitem in item)
                    {
                        if (subitem.IsMachineSpeed ==true)
                        {
                            <td class="col-sm-2 card-block-big br Machine-Settings-box" rowspan="4" valign="middle">


                                <h2 >
                                    <label ViewStateMode="false"  style="font-size:50px" id="lbl-@subitem.ViewFieldId">

                               @subitem.Value
                                    </label>
                                </h2>
                                <span>
                                    @subitem.ParameterName
                                </span>

                            </td>
                        }
                        else
                        {
                            <td  class="col-sm-2" valign="middle" style="height:inherit">
                                <div class="card-box widget-flat bg-@subitem.BackgroundColor text-white" style="background-color:aqua;height:inherit" id="div-@subitem.ViewFieldId">
                                    <i class="fi-tag"></i>


                                    <h3>
                                        <label ViewStateMode="false"  id="lbl-@subitem.ViewFieldId">
                                            @if (subitem.DateTypeId == 2 || subitem.DateTypeId == 3 || subitem.DateTypeId == 4 || subitem.DateTypeId == 7)
                                            {
                                                if (subitem.Value == "1")
                                                {<text>ON</text> }
                                            else
                                            { <text>OFF</text>}
                                    }
                                    else
                                    {@subitem.Value

                                }
                                        </label>
                                    </h3>
                                    <span id="spn-@subitem.ViewFieldId">
                                        @subitem.ParameterName
                                    </span>
                                </div>

                            </td>
                        }


                    }
                </tr>
            }
        </table>*@
        </div>
    </div>
    <div class="col-md-3">
        <div class="">
            <div id="chartdiv"></div>

            @*<canvas id="cnvsdoughnut" width="299" height="200" class="chartjs-render-monitor" style="display: block; width: 310px; height: 215px;"></canvas>*@
            @*<div id="chartContainer"></div>*@

            @*<button type="button" id="download-pdf" onclick="downloadPDF()">
            hh
        </button>*@
            @*<img width="100%" height="100%" src="~/Content/images/pie-chart-img.png" />*@

        </div>
    </div>
</div>

@*Commented on 2 nov 2018 for machine speed rowspan
<div class="row">
    <div class="card table-card" style="padding:0px;margin:0px;margin-right:10px">
        @{var index = 0; var GroupList = Model.ViewFieldList.GroupBy(x => index++ / 6).ToList();}
        @foreach (var item in GroupList)
        {
            <div class="">
                <div class="row-table">
                    @foreach (var subitem in item)
                    {
                        <div class="col-sm-2 card-block-big br">
                            <div class="row">

                                <div class="col-sm-12 text-center">
                                    <h5>
                                        <label>
                                            @if (subitem.DateTypeId == 2 || subitem.DateTypeId == 3 || subitem.DateTypeId == 4 || subitem.DateTypeId == 7)
                                            {
                                                if (subitem.Value == "1")
                                                {<text>ON</text> }
                                            else
                                            { <text>OFF</text>}
                                    }
                                    else
                                    {@subitem.Value}
                                        </label>
                                    </h5>
                                    <span>
                                        @subitem.ParameterName
                                    </span>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>
        }
    </div>
</div>*@
