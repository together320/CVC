<!DOCTYPE html>
@{
    Func<string, IHtmlString> json = x => new HtmlString(Serenity.JSON.Stringify(x));
    var hideNav = Request["hideNav"] == "1";
    var logged = Serenity.Authorization.Username;
    var themeCookie = Request.Cookies["ThemePreference"];
    var theme = themeCookie != null && !themeCookie.Value.IsEmptyOrNull() ? themeCookie.Value : "blue";
    var rtl = System.Globalization.CultureInfo.CurrentUICulture.TextInfo.IsRightToLeft;
    var user = (UserDefinition)Serenity.Authorization.UserDefinition;
    var userImage = (user == null || string.IsNullOrEmpty(user.UserImage)) ?
    "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURT0oHC0tLTIwLzQzMzo2NDs4Njo6OkQrHUMtIEkuIEYwIkgyI0o0KkI7NkM+O0g/O1M3K1c7KUFAPkpBPFdAK1pCLVFEPlhANWJHOWJJMWpONGlQNnJZO0FBQU5EQEpJRkxLS1JHQVNKRVBOTF1OR1JRTl5QSlFRUVhWVFlYVltbWmJUTGtRRWpWTGBeWmtbUXVcQXZbT3hURGNhXnhhRnVkW3hhVntlWmRkZG1qZWxranBsZ3FuaXRxbHt0bXNzc3l2cHx4coVQOIBcSopbRoVxWpRwX55yXYNtYYtvYYxxZIN/eZV1ZZV7bZt6aqZhQ65hQb1oQ6J9a+w4Puw9QsdlPMhnPsVrRcVuSclrQ8RxTMxyTMV1UsR4VsF7XMt2Uc55U859WtB6VdF9WcB/YexGS+5cYfBkafFtcfF3evJ4fIWBe4mFfpSEcJWHeZ6Pf6mDb6mKer6Far2IbrCJdbyMdLiPerCQfruRfM+CX9OAXMCAYsCSfNWFYdaJZteKaNiMatmQbtuTc9qXe92Yd96ZeuCdfYSEhIuHgI2JgoqKipKNhpmNhJWRiZmUjJ6ZkJ2dnaKWjKGck62dlLWTgbqXhLmZh7ibirifkKWgl6ahmKiimaqkm6umnKymna6onrailLWpnbiplbusmq+poKmpqbCqoLKsorOtpLWroLSsorSupLWwprexqLm5ucOXgMaZgcuchdKdg8iijcaol82mkdCgh9Ojit+gg9mmjdypjtKqld2qkNiumN6znMS9tOqKiuGfgPOChvSMj/SNkOKjhOOmieWqjOWtkeKumOiukeawlOG1numyluq1muy4ne28o+u+qsPBv8vBtsvFv+/Apu3CrezEsu/It/DAp/DBqPHHsfHJtPLNusPDw8rGwc7JwtbW1tjU0d/b19vb2+/RxeDb1+nd1/nCw/nKzPPTwvTXyPTZy/Xd0fvW2Pva2/fg0/jl2+Tj4+jk4evr6/fo4fnr5fzt7Pvx7PTz8/318/349v7+/gAAAAAAAAAAAIt9dAgAAAEAdFJOU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wBT9wclAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAGXRFWHRTb2Z0d2FyZQBwYWludC5uZXQgNC4wLjEzNANbegAAClFJREFUaEO1mX90FFcVx0k3efVHGzWxVbRT1tJ0YKNHNHrYxNJW688ey6mEFjYbSdxFqqb+KBSNsRuW0Y1GJFREsYCEtJJ4slo5WKxiK+LpZNZt3+zj6Iaz20DLkfoTrKQcCun84b1v3mzm1+6SP/ye/Jh9797P3Ln3vjczyby0v/YQqYwIqIZIOB+QtwlzP5VDp2+uxA7AJM43BFpHhb1XvujgzVt3P9xggvzE0ZwtkYbtwskjXzQJcKGrvwifE+yh7WPCzyl/NMYFl42u/uJUwa4JBHcLR4d80U3gg9UyARXEDWoCAbLFJ3Bf9AerMi2hIZAJ2SpcbfJFP1whFS7h9QVIbdMub6e40WNbbmlZ1MQ7wFSVC4BpjDpQs/AnglCSJ+ptmONAjfAEVWELA3Kb8J+VNyHDaGh2nulkrjy3PGOeLvHJ9RB6lRacybZ3izjCMXsPtQr3ktzobVtH07ehAw9csAOCwz+KQ0vcAkXchfSgF5GewVIVxW9B8VUpM2RQICx5EjLWUkeg6Ja9+bOyuI0ktQiCJTd6SAIypAC2TZRY7ILhVS0uF24iSUGBsORGjw6iFdjD9oROwhMxDvH9q+bGQzfhB7QAG4Gw5EnIfbOghR9vfkMtCE4yezZLAL76a6x4Px8y0XsFQsiDbuVW6Pt+ViwWC4VikR26c2lzc/MNjfW1V/BoQXWN796B8+wGtDWvrBpaFujAUjYJrkifxAP8ZuzZZ5/63aEdO3b86vfIxblDHI3sauixBWbMpPlYEQI2/fEAvyfzpTFLheL9tdwe3FyN7Ub/FO5baFn/lBsC8hkqFvN3inRXK+NetIF0LBeO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"
    :
    VirtualPathUtility.ToAbsolute("~/upload/") + user.UserImage;
}
<!--[if IE 8]> <html lang="@UICulture" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="@UICulture" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="@UICulture" class="no-js@(hideNav ? " no-navigation" : "")">
<!--<![endif]-->

<head>
    @{
        Html.RenderPartial(MVC.Views.Shared._LayoutHead);
    }
    @RenderSection("Head", false)
    <title>@(ViewData["Title"]) - CVC</title>
    <link href="~/Content/css/bootstrap-multiselect.css" rel="stylesheet" />
    <link href="~/Content/css/DataTable/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="~/Content/css/DataTable/responsive.dataTables.min.css" rel="stylesheet" />
    <script src="~/Scripts/sweetalert.min.js"></script>
    <script src="~/Scripts/bootstrap-multiselect.js"></script>
    <script src="~/Scripts/DataTable/jquery.dataTables.min.js"></script>
    <script src="~/Scripts/DatatablePDF/dataTables.buttons.min.js"></script>
    <script src="~/Scripts/DatatablePDF/buttons.html5.min.js"></script>
    <script src="~/Scripts/DatatablePDF/buttons.print.min.js"></script>
    <script src="~/Scripts/DatatablePDF/jszip.min.js"></script>
    <script src="~/Scripts/DatatablePDF/pdfmake.min.js"></script>
    <script src="~/Scripts/DatatablePDF/vfs_fonts.js"></script>
    <link href="~/Content/site/site.css" rel="stylesheet" type="text/css" />

    // using keyboard plugin
    <script src="~/Scripts/jquery.keyboard.js"></script>
    <link href="~/Content/site/keyboard.css" type="text/css" rel="stylesheet">
    <link href="~/Content/themes/base/jquery-ui.css" rel="stylesheet" />
    <script src="~/Scripts/autocompleteKeyboard/jquery.keyboard.extension-all.js"></script>
    @* <script src="~/Scripts/autocompleteKeyboard/jquery.keyboard.extension-altkeyspopup.js"></script>
    <script src="~/Scripts/autocompleteKeyboard/jquery.keyboard.extension-autocomplete.js"></script>
    <script src="~/Scripts/autocompleteKeyboard/jquery.keyboard.extension-caret.js"></script>
    <script src="~/Scripts/autocompleteKeyboard/jquery.keyboard.extension-extender.js"></script>
    <script src="~/Scripts/autocompleteKeyboard/jquery.keyboard.extension-mobile.js"></script>
    <script src="~/Scripts/autocompleteKeyboard/jquery.keyboard.extension-navigation.js"></script>
    <script src="~/Scripts/autocompleteKeyboard/jquery.keyboard.extension-previewkeyset.js"></script>
    <script src="~/Scripts/autocompleteKeyboard/jquery.keyboard.extension-scramble.js"></script>
    <script src="~/Scripts/autocompleteKeyboard/jquery.keyboard.extension-typing.js"></script> *@
    <script src="~/Scripts/autocompleteKeyboard/jquery.mousewheel.js"></script>
    // end using
</head>

<body id="s-@(ViewData["PageId"])Page"
    class="@(ViewData["BodyClass"]) fixed sidebar-mini hold-transition skin-@theme@(hideNav ? " no-navigation" : " has-layout-event")@(rtl ? " rtl" : "") sidebar-collapse">
    <input type="hidden" id="hdnRoleId" value="@Session["CVCRoleId"]" />
    @if (hideNav)
    {
        <script type="text/javascript">
            $(function () {
            @RenderSection("PageInitScript", false)
                                                                                                            });
        </script>
        <div id="page-outer-nonav">
            <div id="page-container" class="page-container-common">
                @RenderBody()
            </div>
        </div>
    }
    else
    {
        <div class="scrollwrap">
            <button class="btn scrollToBottom"><span class="glyphicon glyphicon-chevron-down"
                    aria-hidden="true"></span></button>
            <button class="btn scrollToTop"><span class="glyphicon glyphicon-chevron-up" aria-hidden="true"></span></button>
        </div>
        <div class="wrapper">
            <header class="main-header">
                <a href="#" class="logo">
                    @*<span class="logo-mini"><img src="~/Content/site/images/cvcTransLogoin_mini.png" /></span>
                <span class="logo-lg"><img src="~/Content/site/images/cvcTransLogoin.png" /></span>*@
                    <span class="logo-mini"><img src="@CVC.Modules.Common.Dashboard.DashboardCommon.GetCompanyLogo()"
                            width="80" height="50" preserveAspectRatio="true" preventEnlarge="true" /></span>

                    <span class="logo-lg"><img
                            src="@CVC.Modules.Common.Dashboard.DashboardCommon.GetCompanyLogo()" /></span>
                </a>
                <nav class="navbar navbar-static-top">
                    @*<div>*@
                    @*<div class="navbar-header">*@

                    @*<nav class="navbar navbar-static-top" role="navigation">*@
                    @*<a href="#" class="sidebar-toggle" data-toggle="push-menu" role="button">
                <span class="sr-only">Toggle navigation</span>
                </a>*@
                    <ul class="nav navbar-nav">
                        @{
                            Html.RenderPartial(MVC.Views.Shared.LeftNavigation, new CVC.Navigation.NavigationModel());
                        }
                    </ul>
                    <ul class="nav navbar" style="display:none">
                        @*<li class="header">MAIN NAVIGATION</li>*@
                        @{
                            Html.RenderPartial(MVC.Views.Shared.LeftNavigation, new CVC.Navigation.NavigationModel());
                        }
                    </ul>
                    @if (IsSectionDefined("ContentHeader"))
                    {
                        <section>
                            @RenderSection("ContentHeader")
                        </section>
                    }

                    @*<input type="hidden" value="@Session["CVCUserName_ForSessionTimeOut"]" id="hdnSessionTimeOut" />*@

                    @*</div>*@

                    <div class="collapse navbar-collapse pull-right" id="navbar-collapse">
                        <ul class="nav navbar-nav">
                            <li class="dropdown user user-menu">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                    <img src="@userImage" class="user-image" alt="User Image">
                                    <span class="hidden-xs">@Serenity.Authorization.Username </span>
                                    <span id="date_time"></span>
                                </a>
                                <ul class="dropdown-menu">
                                    <!-- User image -->
                                    <li class="user-header">
                                        <img src="@userImage" class="img-circle" alt="User Image">

                                        <p>
                                            @(user != null ? user.DisplayName : "")
                                        </p>
                                    </li>

                                    <!-- Menu Footer-->
                                    <li class="user-footer">
                                        <div class="pull-left">
                                            <a href="~/Account/ChangePassword" class="btn btn-default btn-flat"><i
                                                    class="fa fa-lock fa-fw"></i>
                                                @Texts.Forms.Membership.ChangePassword.FormTitle</a>
                                        </div>
                                        <div class="pull-right">
                                            <a @*href="~/Account/Signout"*@ onclick="return LogOutConirmationMsg();"
                                                class="btn btn-default btn-flat"><i class="fa fa-sign-out fa-fw"></i>
                                                @LocalText.Get("Navigation.LogoutLink")</a>
                                        </div>
                                    </li>
                                </ul>
                            </li>

                            <li>
                                <a href="#" data-toggle="control-sidebar"><i class="fa fa-gears"></i></a>
                            </li>
                        </ul>
                    </div>
                    @*</nav>*@
                    @*</div>*@
                    @*</div>*@
                </nav>
            </header>

            @*<aside class="main-sidebar">
        <section class="sidebar">*@
            @*<div class="user-panel">
        <div class="pull-left image">
        <img src="@userImage" class="img-circle" alt="User Image">
        </div>
        <div class="pull-left info">
        <p>@Serenity.Authorization.Username</p>
        <a href="#"><i class="fa fa-circle text-success"></i> Online</a>
        </div>
        </div>*@
            @*<form action="#" method="get" class="sidebar-form">
        <div class="input-group">
        <input type="text" id="SidebarSearch" name="q" class="form-control" autocomplete="off">
        <span class="input-group-btn">
        <button type="button" name="search" id="search-btn" class="btn btn-flat"><i class="fa fa-search"></i></button>
        </span>
        </div>
        </form>*@
            @*<ul class="sidebar-menu" id="SidebarMenu" data-widget="tree">*@
            @*<li class="header">MAIN NAVIGATION</li>*@
            @*@{Html.RenderPartial(MVC.Views.Shared.LeftNavigation, new CVC.Navigation.NavigationModel()); }
        </ul>
        </section>
        </aside>*@
            @*padding-top:15px;*@
            <div class="content-wrapper" style="background-color:white;">



                <section class="content">
                    @RenderBody()
                </section>

                @if (IsSectionDefined("Scripts"))
                {
                    <section>
                        @RenderSection("Scripts")
                    </section>
                }
                @if (IsSectionDefined("Style"))
                {
                    <section>
                        @RenderSection("Style")
                    </section>
                }
            </div>

            <footer class="main-footer">
                <div class="pull-right hidden-xs">
                    @Texts.Site.Layout.FooterInfo
                </div>
                <strong>@Texts.Site.Layout.FooterCopyright</strong> @Texts.Site.Layout.FooterRights
            </footer>

            <aside class="control-sidebar control-sidebar-dark">
                <div class="tab-content">
                    <div class="tab-pane active" id="control-sidebar-settings-tab">
                        <form method="post">
                            <h3 class="control-sidebar-heading">@Texts.Site.Layout.GeneralSettings</h3>

                            <div class="form-group">
                                <label class="control-sidebar-subheading">@Texts.Site.Layout.Language</label>
                                <select id="LanguageSelect" class="form-control"></select>
                            </div>

                            <div class="form-group" style="margin-top: 15px;">
                                <label class="control-sidebar-subheading">@Texts.Site.Layout.Theme</label>
                                <select id="ThemeSelect" class="form-control"></select>
                            </div>
                        </form>
                    </div>
                </div>
            </aside>
            <div class="control-sidebar-bg"></div>
        </div>

        @*<div class="modal fade" id="ScreenLockModel" role="dialog" data-backdrop="static" style="top:150px">
    <div class="modal-dialog modal-sm">

    <div class="modal-content" style="width:500px">
    <div class="modal-header">

    <div style="text-align:center; background-color:#3c8dbc;
    color:white;height:30px;vertical-align:central;padding-top:1px">
    <h4 class="modal-title;"><span style="font-size:medium;text-align:center ">UnLock Screen</span></h4>
    </div>
    </div>
    <div class="modal-body" style="width:500px">
    <div class="row">
    <div class="col-md-12">
    User Name : <label id="lblUserName">@Serenity.Authorization.Username</label>

    </div>
    <div class="clearfix"></div>
    <div class="col-md-12">
    PassWord : <input type="password" id="txtPassword" />

    </div>
    </div>


    </div>
    <div class="modal-footer">
    <button type="button" onclick="CheckLogin();" class="btn btn-primary">Login</button>*@
        @*<a href="@Url.Action("SaveComments", "AlarmMachine")" class="btn btn-default graybtn backbtn">Save</a>*@
        @*</div>
    </div>
    </div>
    </div>*@
        <div id="dialog">
            <div>
                <div
                    style="text-align:center; background-color:#3c8dbc; color:white;height:50px;vertical-align:central;padding-top:1px">
                    <h4 class="modal-title;"><span style="font-size:medium;text-align:center ">UnLock Screen</span></h4>
                </div>
                <div style="width:500px">
                    <div class="row">
                        <div class="col-md-12">
                        </div>
                        <div class="col-md-12">
                            User Name : <label ViewStateMode="false"
                                id="lblUserName">@Serenity.Authorization.Username</label>
                        </div>
                        <div class="clearfix"></div>
                        <div class="col-md-12">
                        </div>
                        <div>
                            <input id="txtTemp" ViewStateMode="false" style="width:0px;height:0px" />
                        </div>
                        <div class="col-md-12">
                            Password : <input ViewStateMode="false" type="password" id="txtPassword"
                                class="form-control AddKeypad" />
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="loader" style="/* display: none; */">
            <div class="loadingmainwrap" id="loadingmainwrap">
                <div class="loadingwrap">
                    <div class="loadercircle"></div>
                </div>
                <div class="loadinglogo">

                    <img src="../Content/site/images/cvcTransLogo.png">
                </div>
            </div>
        </div>

        <div class="modal fade" id="AuthenticationtModal" role="dialog" data-backdrop="static" style="top:150px">
            <div class="modal-dialog modal-sm">

                <div class="modal-content" style="width:500px">
                    <div class="modal-header">
                        <h4 class="modal-title;"
                            style="text-align: center;background-color: #3c8dbc;color: white;margin: 0;padding: 10px;"><span
                                style="font-size:medium;text-align:center ">Authentication</span></h4>
                    </div>
                    <div class="modal-body" style="width:500px">

                        <div class="form-group-wrap">

                            <div class="form-group">
                                <label>User Name :</label> <input type="text" id="txtUserName"
                                    class="form-control AddKeypad" />
                            </div>
                            <div class="form-group">
                                <label>Password :</label> <input type="password" id="txtReportAutrhPassword"
                                    class="form-control AddKeypad" />
                            </div>
                        </div>






                    </div>
                    <div class="modal-footer">
                        <button type="button" id="btnSave_CommentModal" onclick="SaveAuthenticationToAuditLog('','','','');"
                            class="btn btn-primary">Submit</button>
                        <button type="button" id="btnCancel_CommentModal" onclick="Cancel();" class="btn btn-danger"
                            data-dismiss="modal">Cancel</button>

                        @*<a href="@Url.Action("SaveComments", "AlarmMachine")" class="btn btn-default graybtn
                    backbtn">Save</a>*@
                    </div>
                </div>
            </div>
        </div>
        @Html.Partial("~/Views/PartialViews/Message_PartialView.cshtml")


        <script type="text/javascript">
            var ddo = "mor";
            var ScreenLockTimeOut = 60000;
            var ResetTime = true;
            var ScreenLockTimeOutArray1 = [];

            var timeoutID;
            var IsDialog = false;

            function setup() {
                this.addEventListener("mousemove", resetTimer, false);
                this.addEventListener("mousedown", resetTimer, false);
                this.addEventListener("keypress", resetTimer, false);
                this.addEventListener("DOMMouseScroll", resetTimer, false);
                this.addEventListener("mousewheel", resetTimer, false);
                this.addEventListener("touchmove", resetTimer, false);
                this.addEventListener("MSPointerMove", resetTimer, false);

                window.setTimeout(startTimer, 60000);
            }
            setup();

            function startTimer() {

                window.clearTimeout(timeoutID);
                timeoutID = window.setTimeout(goInactive, ScreenLockTimeOut);

            }

            function resetTimer(e) {

                window.clearTimeout(timeoutID);

                // if ($('#ScreenLockModel').is(':visible') == false) {
                if (IsDialog == false) {
                    startTimer();
                }
                // }


            }

            function goInactive() {


                window.clearTimeout(timeoutID);

                //if ($('#ScreenLockModel').is(':visible') == false) {

                //    $("#ScreenLockModel").modal('show');
                //}

                if (IsDialog == false) {

                    $("div#dialog").dialog().prev().find(".ui-dialog-titlebar-close").hide();
                    $("#txtTemp").val("");
                    $("#txtPassword").val("");
                    $("#dialog").dialog("open");
                    IsDialog = true;
                }

                AddAuditLogForScreenLockTimeOut();

            }

            $(function () {
                $("#dialog").dialog({
                    autoOpen: false,
                    modal: true,
                    width: 600,
                    height: 300,
                    buttons: {
                        "Login": function () {
                            CheckLogin();
                        },
                        "Logout": function () {
                            LogOutConirmationMsg();
                        }
                    }
                });
            });

            function goActive() {


                //if ($('#ScreenLockModel').is(':visible') == false) {
                if (IsDialog == false) {

                    startTimer();
                }

            }

            //function updateTime() {
            //    $('#date_time').html("");
            //    $('#date_time').html(new Date().toString().split("GMT")[0]);
            //    setTimeout(updateTime, 1000);
            //}

            function updateTime() {
                //debugger;
                var today = new Date();
                var dd = today.getDate();

                var mm = today.getMonth() + 1;
                var yyyy = today.getFullYear();
                if (dd < 10) {
                    dd = '0' + dd;
                }

                if (mm < 10) {
                    mm = '0' + mm;
                }

                var currentDate = dd + '/' + mm + '/' + yyyy;

                var day = today.getDay();
                var days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
                var dayname = days[day];
                var currentDateTime = dayname + " " + currentDate + " " + today.getHours() + ":" + today.getMinutes() + ":" + today.getSeconds();

                $('#date_time').html("");
                // $('#date_time').html(new Date().toString().split("GMT")[0]);
                $('#date_time').html(currentDateTime);

                setTimeout(updateTime, 1000);
            }


            function callKeyBoard() {
                $(".s-QuickSearchInput").keyboard({
                    usePreview: false,
                    layout: 'custom',
                    customLayout: {
                        'normal': [
                            '` 1 2 3 4 5 6 7 8 9 0 - = {bksp}',
                            '{tab} q w e r t y u i o p [ ] \\',
                            'a s d f g h j k l ; \' {accept}',
                            '{shift} z x c v b n m , . / {shift}',
                            ' {space} {left} {right} {cancel}'
                        ],
                        'shift': [
                            '~ ! @@ # $ % ^ & * ( ) _ + {bksp}',
                            '{tab} Q W E R T Y U I O P { } |',
                            'A S D F G H J K L : " {accept}',
                            '{shift} Z X C V B N M < > ? {shift}',
                            ' {space} {left} {right} {cancel}'
                        ]
                    },

                })

            }

            $(document).ready(function () {

                updateTime();
                GetScreenLockTimeOut();
                callKeyBoard();
                // resetArrow();
                // aa();
            });
            function aa() {

                setTimeout(function () {
                    debugger;


                    $('#ui-datepicker-div').datepicker("destroy");
                    $("#ui-datepicker-div").datepicker({ minDate: 0 });

                    // $(".s-DateEditor").datepicker("destroy");
                    // $(".s-DateEditor").datepicker({ minDate: 0 });
                }, 5000);

                //  $('#CVC_Report_AuditLogGrid0_QuickFilter_ChangedOn').datepicker({ minDate: 0 });

            }
            var timoutNow = ScreenLockTimeOut; // Timeout in 2 mins.
            var logoutUrl = 'http://www.asp.net'; // URL to logout page.


            var timeoutTimer;

            function LogOutConirmationMsg() {
                $(".swal-modal").attr("style", "display:inline-block;");
                var ConveyerValue = $(".IsConveyerClass").val();
                if (ConveyerValue == "1") {
                    swal("Please stop conveyer first!!!");

                }
                else {




                    swal({
                        title: "Are You Sure?",
                        text: "Do you want to logout ?",
                        icon: "warning",
                        buttons: [
                            'No, cancel it!',
                            'Yes, I am sure!'
                        ],
                        dangerMode: true,
                    }).then(function (isConfirm) {
                        if (isConfirm) {
                            location.href = "/Account/Signout";
                        }

                    });
                }
            }


            //function StartTimers() {

            //    timeoutTimer = "SL1" + setTimeout("IdleTimeout()", ScreenLockTimeOut);
            //    ScreenLockTimeOutArray1.push(timeoutTimer);
            //}


            //function ResetTimers() {
            //    // alert("ResetTimers fired");
            //    if (ResetTime == true) {
            //        for (var i = 0; i < ScreenLockTimeOutArray1.length; i++) {
            //            clearTimeout(ScreenLockTimeOutArray1[i]);
            //        }
            //        ScreenLockTimeOutArray1 = [];
            //        StartTimers();
            //    }
            //    else {
            //        //  alert("time not reset");
            //    }
            //}


            //function IdleWarning() {
            //    $("#timeout").dialog({
            //        modal: true
            //    });
            //}


            //function IdleTimeout() {
            //    ResetTime = false;
            //    $("#ScreenLockModel").modal('show');
            //    AddAuditLogForScreenLockTimeOut();

            //}

            function AddAuditLogForScreenLockTimeOut() {
                var parameter = {
                    "UserName": $("#lblUserName").text(), "Password": $("#txtPassword").val()
                };
                $.ajax({
                    url: Q.resolveUrl('~/Account/AddAuditLogForScreenLockTimeOut'),
                    type: 'POST',
                    async: true,
                    data: parameter,
                    success: function (data) {
                    },
                    error: function (x, y, z) {

                    }
                });
            }


            function resetArrow() {
                $(function () {
                    var docHeight = $(document).height();
                    $('.scrollToBottom').bind("click", function () {
                        debugger;
                        $(".scrollwrap").css("min-height", $(document).height() + "px")
                        $('html, body').animate({ scrollTop: $('html').scrollTop() + 400 }, 400);
                        if ($('html').scrollTop() + $(window).height() >= $(document).height()) {
                            $(this).hide();
                        }
                        $('.scrollToTop').show();
                        return false;
                    });
                    $('.scrollToTop').bind("click", function () {
                        debugger;
                        $('html, body').animate({ scrollTop: $('html').scrollTop() - 400 }, 400);
                        if ($('html').scrollTop() <= 0) {
                            $(this).hide();
                        }
                        $('.scrollToBottom').show();
                        return false;

                    });
                });
            }

            // window.onload = date_time('date_time');
            $().ready(function () {
                new CVC.Common.SidebarSearch($('#SidebarSearch'), $('#SidebarMenu')).init();
                new CVC.Common.LanguageSelection($('#LanguageSelect'), '@(System.Globalization.CultureInfo.CurrentUICulture.Name)');
                new CVC.Common.ThemeSelection($('#ThemeSelect'));
            @RenderSection("PageInitScript", false);

                var doLayout = function () {
                    height = (this.window.innerHeight > 0) ? this.window.innerHeight : this.screen.height;
                    height -= $('header.main-header').outerHeight() || 0;
                    height -= $('section.content-header').outerHeight() || 0;
                    height -= $('footer.main-footer').outerHeight() || 0;
                    if (height < 200) height = 200;
                    $("section.content").css("min-height", (height) + "px");

                    $('body').triggerHandler('layout');
                };

                $(window).bind("load resize layout", doLayout);
                doLayout();
            });

            //function date_time(id) {
            //   /* date = new Date;
            //    year = date.getFullYear();
            //    month = date.getMonth();
            //    months = new Array('Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec');
            //    d = date.getDate();
            //    day = date.getDay();
            //    days = new Array('Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday');
            //    h = date.getHours();
            //    if (h < 10) {
            //        h = "0" + h;
            //    }
            //    m = date.getMinutes();
            //    if (m < 10) {
            //        m = "0" + m;
            //    }
            //    s = date.getSeconds();
            //    if (s < 10) {
            //        s = "0" + s;
            //    }
            //    result = months[month] + ' ' + d + ' ' + year + ' ' + h + ':' + m + ':' + s;
            //    document.getElementById(id).innerHTML = result;
            //    setTimeout('date_time("' + id + '");', '1000');*/
            //   $.ajax({
            //        url: Q.resolveUrl('~/Common/GetDateTimeInEnvironmentalVariableFormat'),
            //        type: 'GET',
            //        async: true,
            //        success: function (data) {
            //            var result = data;
            //            document.getElementById(id).innerHTML = result;
            //            setTimeout('date_time("' + id + '");', '1000');
            //        },
            //        error: function (x, y, z) {
            //            //$('#ScreenLockModel').modal('hide');
            //        }
            //    });
            //}
            //  $(document).ready(function () {
            //if ($("#hdnSessionTimeOut").val() == "") {

            //    $('#LoginModel').modal('show');
            //}
            //else {
            //    $('#LoginModel').modal('hide');

            //}

            $(document).ready
                (function () {
                    //$("input:text").val("Glenn Quagmire");
                    //$('input')
                    $('.AddKeypad')
                        .keyboard({
                            usePreview: false,
                            layout: 'custom',
                            customLayout: {
                                'normal': [
                                    '` 1 2 3 4 5 6 7 8 9 0 - = {bksp}',
                                    '{tab} q w e r t y u i o p [ ] \\',
                                    'a s d f g h j k l ; \' {accept}',
                                    '{shift} z x c v b n m , . / {shift}',
                                    ' {space} {left} {right}'
                                ],
                                'shift': [
                                    '~ ! @@ # $ % ^ & * ( ) _ + {bksp}',
                                    '{tab} Q W E R T Y U I O P { } |',
                                    'A S D F G H J K L : " {accept}',
                                    '{shift} Z X C V B N M < > ? {shift}',
                                    ' {space} {left} {right}'
                                ]
                            },
                        })
                        // activate the typing extension
                        .addTyping({
                            showTyping: true,
                            delay: 250
                        })

                        //  .addTyping()

                        .addCaret({
                            caretClass: '',
                            // *** for future use ***
                            // data-attribute containing the character(s) next to the caret
                            charAttr: 'data-character',
                            // # character(s) next to the caret (can be negative for RTL)
                            // default is 1 which shows the character to the right of the caret
                            // setting this to -1 shows the character to the left
                            charIndex: -1,
                            // tweak caret position & height
                            offsetX: 0,
                            offsetY: 0,
                            adjustHt: 0
                        });
                });

            //  });

            function CheckLogin() {


                if ($("#txtPassword").val() != "") {
                    var parameter = {
                        "UserName": $("#lblUserName").text(), "Password": $("#txtPassword").val()
                    };
                    // console.log(new Date());
                    $.ajax({
                        url: Q.resolveUrl('~/Account/CheckLogin'),
                        type: 'GET',
                        async: true,
                        data: parameter,
                        success: function (data) {

                            if (data == "Login Successfull") {

                                //$('#ScreenLockModel').modal('hide');
                                //goActive();
                                $("#dialog").dialog("close");
                                IsDialog = false;
                            }
                            else {


                                alert(data);
                            }


                        },
                        error: function (x, y, z) {
                            //$('#ScreenLockModel').modal('hide');
                        }
                    });
                }
                else {
                    ResetTime = false;
                    alert("Password Cannot Blank");
                }
            }

            function GetScreenLockTimeOut() {

                $.ajax({
                    url: Q.resolveUrl('~/Account/GetScreenLockTimeOut'),
                    type: 'GET',
                    async: true,
                    success: function (response) {
                        ScreenLockTimeOut = response;
                        //SetScreenLockTimer();

                    },
                    error: function (x, y, z) {

                    }
                });
            }
        </script>

        <script>

            var timeoutHandleScreenLock;

            //function SetScreenLockTimer() {

            //    timeoutHandleScreenLock = window.setTimeout(
            //        function () {
            //            OpenScreenLockPopUp();
            //        }, ScreenLockTimeOut);
            //}

            //function OpenScreenLockPopUp() {

            //    $("#ScreenLockModel").modal('show');
            //    AddAuditLogForScreenLockTimeOut();
            //}

            //function ResetScreenLockTimer() {

            //    window.clearTimeout(timeoutHandleScreenLock);
            //    SetScreenLockTimer();
            //}

            $(window).on('load', function () {

                $('.loader').addClass('hidden');
            })

            function SaveAuthenticationToAuditLog(CallPanel, RequestPanel, FieldName, ViewFieldId) {
                debugger;
                var data = $("#txtUserName").val();
                if ($("#txtUserName").val().trim() == "") {
                    alert("Please enter UserName");
                    return false;
                }
                if ($("#txtReportAutrhPassword").val().trim() == "") {
                    alert("Please enter Password");
                    return false;
                }

                var reportNmae = "Download " + myoptions.grid.$displayName + " Report";
                ViewFieldId = 0;
                var parameter = {
                    "Action": reportNmae, "FieldName": FieldName, "ModuleId": $("#hdnModuleId").val(), "IsAuthentication": true, "ViewFieldId": ViewFieldId, "UserName": $("#txtUserName").val(), "Password": $("#txtReportAutrhPassword").val()
                };
                $.ajax({
                    url: Q.resolveUrl('~/Common/AddAuditLog'),
                    type: 'POST',
                    async: true,
                    data: parameter,
                    success: function (data) {
                        debugger;
                        if (data == "Invalid") {
                            // swal("Incorrect UserName, Password or Role!!!");
                            if (reportNmae.includes("Report")) {
                                swal("Invalid UserName or Password")
                            }
                            else {
                                swal("You are not authorized person");
                            }

                        }
                        else {

                            $("#AuthenticationtModal").modal('hide');

                            downloadPdfReport(myoptions);
                        }

                    },
                    error: function (x, y, z) {
                        $("#AuthenticationtModal").modal('hide');
                    }
                });
            }

            function Cancel() {
                $("#txtUserName").val("");
                $("#txtReportAutrhPassword").val("");
            }

        </script>
    }
    @*<script src="~/Scripts/jquery.keyboard.js"></script>
    <link href="~/Content/site/keyboard.css" type="text/css" rel="stylesheet">
    <script>
    $(function () {
    $('input[type=text]').keyboard();
    });
    </script>*@
    <link href="../../Scripts/themes/style.css" rel="stylesheet" type="text/css" />

</body>

</html>

<style>
    div.ui-keyboard {
        font-size: 2rem;
    }
</style>
